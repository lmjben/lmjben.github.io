(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{224:function(t,a,e){"use strict";e.r(a);var s=e(0),r=Object(s.a)({},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"web-安全"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#web-安全","aria-hidden":"true"}},[t._v("#")]),t._v(" WEB 安全")]),t._v(" "),e("h2",{attrs:{id:"xss-攻击"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#xss-攻击","aria-hidden":"true"}},[t._v("#")]),t._v(" XSS 攻击")]),t._v(" "),e("p",[t._v("恶意攻击者往 Web 页面里插入恶意 script 代码，当用户浏览该页时，嵌入其中 Web 里面的 script 代码会被执行，从而达到恶意攻击用户的目的。")]),t._v(" "),e("ul",[e("li",[t._v("反射型：被动的非持久性 XSS，诱导用户点击短型 URL，服务器解析后响应，在返回的响应内容中隐藏和嵌入攻击者的 XSS 代码，从而攻击用户。")]),t._v(" "),e("li",[t._v("持久型：也叫存储型 XSS，主动提交恶意数据到服务器，当其他用户请求后，服务器从数据库中查询数据并发给用户受到攻击。")]),t._v(" "),e("li",[t._v("DOM 型：DOM 通过 html 结构执行事件脚本。")])]),t._v(" "),e("div",{staticClass:"language-html line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-html"}},[e("code",[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("xx"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onerror")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("console.log(document.cookie);"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("h2",{attrs:{id:"csrf-攻击"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#csrf-攻击","aria-hidden":"true"}},[t._v("#")]),t._v(" CSRF 攻击")]),t._v(" "),e("p",[t._v("CSRF（Cross-site request forgery），中文名称：跨站请求伪造，也被称为：one click attack/session riding，缩写为：CSRF/XSRF。")]),t._v(" "),e("p",[e("img",{attrs:{src:"fontend-security-csrf.jpg",alt:"csrf"}})]),t._v(" "),e("h3",{attrs:{id:"csrf-防范"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#csrf-防范","aria-hidden":"true"}},[t._v("#")]),t._v(" CSRF 防范")]),t._v(" "),e("ul",[e("li",[t._v("低安全级别：被黑客抓包，获取请求地址，直接修改参数。")]),t._v(" "),e("li",[t._v("中安全级别：加入验证码，判断 reffer，这些参数前端都是可以篡改的。（流失用户）")]),t._v(" "),e("li",[t._v("高安全级别：验证 token，每次动态更新。")]),t._v(" "),e("li",[t._v("终极防范： 强验证码 + 动态 token 请求。")])]),t._v(" "),e("h3",{attrs:{id:"token"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#token","aria-hidden":"true"}},[t._v("#")]),t._v(" Token")]),t._v(" "),e("p",[t._v("CSRF 攻击之所以能够成功，是因为黑客可以完全伪造用户的请求，该请求中所有的用户验证信息都是存在于 Cookie 中，因此黑客可以在不知道这些验证信息的情况下直接利用用户自己的 Cookie 来通过安全验证。要抵御 CSRF，关键在于在请求中放入黑客所不能伪造的信息，并且该信息不存在于 Cookie 之中。可以在 HTTP 请求中以参数的形式加入一个随机产生的 token，并在服务器端建立一个拦截器来验证这个 token，如果请求中没有 token 或者 token 内容不正确，则认为可能是 CSRF 攻击而拒绝该请求。")]),t._v(" "),e("p",[t._v("动态 token：每当服务器端验证过 token 之后，便会生成一个新的 token 返给客户端，这样保证客户端手里的 token 只能使用一次，即使 token 被劫持，被劫持到的 token 也已过期，不能使用了。")]),t._v(" "),e("h2",{attrs:{id:"web-shell-网站提权渗透"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#web-shell-网站提权渗透","aria-hidden":"true"}},[t._v("#")]),t._v(" Web Shell 网站提权渗透")]),t._v(" "),e("p",[t._v("它是以 asp，php，jsp 或者 cgi 等网页文件形式存在的一种命令执行环境，由于 webshell 其大多数是以动态脚本的形式出现，也有人称之为网站的后门工具。")]),t._v(" "),e("ul",[e("li",[t._v("编写可执行的 web 脚本文件（木马）")]),t._v(" "),e("li",[t._v("寻找上传漏洞，将我们的木马上传")]),t._v(" "),e("li",[t._v("找到上传后路径，并执行")]),t._v(" "),e("li",[t._v("安装好中国菜刀，管理木马（获取整个网站的目录了）")])]),t._v(" "),e("p",[t._v("上传文件扩展名")]),t._v(" "),e("p",[e("img",{attrs:{src:"fontend-security1.png",alt:"上传文件扩展名"}})]),t._v(" "),e("p",[t._v("上传文件 HTTP 请求伪造")]),t._v(" "),e("p",[e("img",{attrs:{src:"fontend-security2.png",alt:"上传文件 HTTP 请求伪造"}})]),t._v(" "),e("p",[t._v("防范：")]),t._v(" "),e("ul",[e("li",[t._v("1、上传时检测字节码。如果是图片，字节码前面的几个字符是固定的。")]),t._v(" "),e("li",[t._v("2、修改上传文件名。")]),t._v(" "),e("li",[t._v("3、修改静态资源的执行权限。")])]),t._v(" "),e("h2",{attrs:{id:"网页挂马和流量劫持"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#网页挂马和流量劫持","aria-hidden":"true"}},[t._v("#")]),t._v(" 网页挂马和流量劫持")]),t._v(" "),e("h3",{attrs:{id:"网页挂马"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#网页挂马","aria-hidden":"true"}},[t._v("#")]),t._v(" 网页挂马")]),t._v(" "),e("p",[t._v("网页挂马指的是把一个木马程序上传到一个网站里面然后用木马生成器生一个"),e("a",{attrs:{href:"https://baike.baidu.com/item/%E7%BD%91%E9%A9%AC",target:"_blank",rel:"noopener noreferrer"}},[t._v("网马"),e("OutboundLink")],1),t._v("，再上到空间里面！再加代码使得木马在打开网页时运行！")]),t._v(" "),e("h3",{attrs:{id:"流量劫持"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#流量劫持","aria-hidden":"true"}},[t._v("#")]),t._v(" 流量劫持")]),t._v(" "),e("p",[t._v("流量劫持是什么？简单来说：")]),t._v(" "),e("ul",[e("li",[t._v("如果你想访问 A 网站，但实际上打开的是 B 网站，这叫 DNS 劫持。")]),t._v(" "),e("li",[t._v("如果你访问 A 网站，但实际上打开的是 A 网站 + 注入的广告，这叫数据劫持。")])]),t._v(" "),e("p",[t._v("更多关于流量劫持的文章，可以参考"),e("router-link",{attrs:{to:"/blog/osi-hijack.html"}},[t._v("流量劫持")]),t._v("。")],1),t._v(" "),e("h2",{attrs:{id:"相关链接"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#相关链接","aria-hidden":"true"}},[t._v("#")]),t._v(" 相关链接")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"http://fex.baidu.com/blog/2014/04/traffic-hijack/",target:"_blank",rel:"noopener noreferrer"}},[t._v("流量劫持"),e("OutboundLink")],1)])])])},[],!1,null,null,null);a.default=r.exports}}]);