(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{191:function(t,s,e){"use strict";e.r(s);var h=e(0),i=Object(h.a)({},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"content"},[t._m(0),t._v(" "),e("p",[t._v("https 是以安全为目标的 http 通道，简单讲是 http 的安全版。")]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),e("p",[t._v("http 协议属于明文传输协议，交互过程以及数据传输都没有进行加密，通信双方也没有进行任何认证，通信过程非常容易遭遇劫持、监听、篡改。")]),t._v(" "),e("p",[t._v("可以把 http 通信比喻成寄送信件一样，A 给 B 寄信，信件在寄送过程中，会经过很多的邮递员之手，他们可以拆开信读取里面的内容（因为 http 是明文传输的）。A 的信件里面的任何内容（包括各类账号和密码）都会被轻易窃取。除此之外，邮递员们还可以伪造或者修改信件的内容，导致 B 接收到的信件内容是假的。")]),t._v(" "),t._m(9),t._v(" "),e("p",[t._v("https 引入了加密以及身份验证机制。")]),t._v(" "),t._m(10),t._v(" "),e("p",[t._v("在图中可以看到，步骤中间人只可能在 1，3，5，7 时去劫持请求。")]),t._v(" "),t._m(11),t._v(" "),e("hr"),t._v(" "),e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[t._v("参考资料")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://mp.weixin.qq.com/s/StqqafHePlBkWAPQZg3NrA",target:"_blank",rel:"noopener noreferrer"}},[t._v("一个故事讲完 https"),e("OutboundLink")],1)])])])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"https-协议浅析"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#https-协议浅析","aria-hidden":"true"}},[this._v("#")]),this._v(" Https 协议浅析")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"https.png",alt:"https流程图"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"流程分析"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#流程分析","aria-hidden":"true"}},[this._v("#")]),this._v(" 流程分析")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",[e("li",[t._v("1、客户端请求 https 链接，并发送自己支持的一套加密规则给服务器。")]),t._v(" "),e("li",[t._v("2、服务器需要安装好证书（其实就是一对公钥和私钥）。")]),t._v(" "),e("li",[t._v("3、服务端返回一组加密组件和通过 hash 算法签名的数字证书。")]),t._v(" "),e("li",[t._v("4、客户端验证证书。\n"),e("ul",[e("li",[t._v("使用 hash 检查证书是否被篡改。")]),t._v(" "),e("li",[t._v("验证失败，弹出提示，证书存在问题，拒绝请求。")]),t._v(" "),e("li",[t._v("验证成功，生成随机值。")])])]),t._v(" "),e("li",[t._v("5、使用证书公钥将随机值加密后传给服务端。")]),t._v(" "),e("li",[t._v("6、服务端用私钥解密消息内容，获得随机值。")]),t._v(" "),e("li",[t._v("7、服务端通过随机值加密传输内容，发送给客户端。")]),t._v(" "),e("li",[t._v("8、客户端用随机值解密，获取内容。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"hash-检测"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hash-检测","aria-hidden":"true"}},[this._v("#")]),this._v(" hash 检测")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"https-hash1.png",alt:"https流程图"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"https-hash2.png",alt:"https流程图"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"https-为什么安全？"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#https-为什么安全？","aria-hidden":"true"}},[this._v("#")]),this._v(" https 为什么安全？")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"http-不安全"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#http-不安全","aria-hidden":"true"}},[this._v("#")]),this._v(" http 不安全")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"https-如何保证安全？"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#https-如何保证安全？","aria-hidden":"true"}},[this._v("#")]),this._v(" https 如何保证安全？")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("在传输过程中的内容都是经过加密的。")]),this._v(" "),s("li",[this._v("引入了证书的概念，保证客户端通信的服务器是真正的服务器，而不是中间人。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("劫持请求 1 和 3：劫持请求到另一个服务器，或修改服务器返回的证书，都会在步骤 4 中验证证书失败，故攻击失效。")]),this._v(" "),s("li",[this._v("劫持请求 5：证书私钥在服务器端，只有服务器端才能解密，中间人没有私钥，故无法破解内容。")]),this._v(" "),s("li",[this._v("劫持请求 7：对称加密的密钥存在客户端和服务端，中间人没有密钥，故无法破解内容。")])])}],!1,null,null,null);i.options.__file="https.md";s.default=i.exports}}]);