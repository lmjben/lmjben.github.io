(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{159:function(t,a,e){"use strict";e.r(a);var r=e(0),i=Object(r.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"content"},[e("h1",{attrs:{id:"图解http总结"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#图解http总结","aria-hidden":"true"}},[t._v("#")]),t._v(" 图解http总结")]),e("p",[t._v("最近阅读完图解http，扫盲了一次http基础，在此写一下总结。")]),e("h2",{attrs:{id:"了解web及网络基础"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#了解web及网络基础","aria-hidden":"true"}},[t._v("#")]),t._v(" 了解web及网络基础")]),e("h3",{attrs:{id:"tcp-ip架构"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tcp-ip架构","aria-hidden":"true"}},[t._v("#")]),t._v(" TCP/IP架构")]),e("p",[t._v("|应用层|http|生成基于目标服务器的http请求报文|\n|传输层|tcp|为了方便通信，将http请求报文分割成报文段|\n|网络层|ip|搜索对方的地址，一边中转一边传送|\n|数据链路层|网络|处理请求|")]),e("h2",{attrs:{id:"简单的http协议"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#简单的http协议","aria-hidden":"true"}},[t._v("#")]),t._v(" 简单的http协议")]),e("p",[t._v("http是无状态的协议")]),e("h3",{attrs:{id:"请求报文"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#请求报文","aria-hidden":"true"}},[t._v("#")]),t._v(" 请求报文")]),e("p",[t._v("请求报文是由请求方法、请求URI、协议版本、可选的请求首部字段和内容实体构成。")]),e("h3",{attrs:{id:"响应报文"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#响应报文","aria-hidden":"true"}},[t._v("#")]),t._v(" 响应报文")]),e("p",[t._v("响应报文是由协议版本、状态码、状态码短语、可选的响应首部字段以及实体主体构成。")]),e("h3",{attrs:{id:"常用的请求方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#常用的请求方法","aria-hidden":"true"}},[t._v("#")]),t._v(" 常用的请求方法")]),e("ul",[e("li",[t._v("GET 获取资源")]),e("li",[t._v("POST 传输实体的主体")]),e("li",[t._v("PUT 传输文件")]),e("li",[t._v("HEAD 获得报文首部（类似get，不返回报文实体）")]),e("li",[t._v("DELETE 删除文件")]),e("li",[t._v("OPTIONs 询问支持的方法")]),e("li",[t._v("TRACE 追踪路径（让服务器将之前的请求通信返回给客户端）")]),e("li",[t._v("CONNECT 要求用隧道协议连接代理（主要使用SSL）")])]),e("h3",{attrs:{id:"持久化链接"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#持久化链接","aria-hidden":"true"}},[t._v("#")]),t._v(" 持久化链接")]),e("p",[t._v("持久连接keep-live，串行输入，第二个请求需等待第一个请求响应完才能执行。")]),e("p",[t._v("|建立TCP连接|\n|请求1-----\x3e|\n|<-----响应1|\n|请求2-----\x3e|\n|<-----响应2|\n|关闭TCP连接|")]),e("p",[t._v("管线化，多个请求可同时发出，不需等待。")]),e("p",[t._v("|建立TCP连接|\n|请求1-----\x3e|\n|请求2-----\x3e|\n|<-----响应1|\n|<-----响应2|\n|关闭TCP连接|")]),e("h2",{attrs:{id:"http报文内的http信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#http报文内的http信息","aria-hidden":"true"}},[t._v("#")]),t._v(" http报文内的http信息")]),e("h3",{attrs:{id:"http报文"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#http报文","aria-hidden":"true"}},[t._v("#")]),t._v(" http报文")]),e("p",[t._v("|报文首部|\n|空行（CR+LF）|\n|报文主体|")]),e("h2",{attrs:{id:"返回结果的http状态码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#返回结果的http状态码","aria-hidden":"true"}},[t._v("#")]),t._v(" 返回结果的http状态码")]),e("ul",[e("li",[t._v("200 OK 请求成功")]),e("li",[t._v("204 No Content 请求处理成功，但没有资源返回")]),e("li",[t._v("206 Partial Content 请求到资源的一部分")]),e("li",[t._v("301 Move Permanently 永久重定向")]),e("li",[t._v("302 Found临时重定向")]),e("li",[t._v("303 See Other 临时重定向，采用get方法")]),e("li",[t._v("304 Not Modified 没有改变")]),e("li",[t._v("307 Temporary Redirect 临时重定向，采用之前的方法，不会强制使用get方法")]),e("li",[t._v("400 Bad Request 请求报文中存在语法错误")]),e("li",[t._v("401 Unauthorized 发送的请求需要有认证信息")]),e("li",[t._v("403 Forbidden 请求的资源被服务器拒绝")]),e("li",[t._v("404 Not Found 没有找到对应资源")]),e("li",[t._v("500 Internal Server Error 服务器端报错")]),e("li",[t._v("503 Service Unavaliable 服务器超负载或在维护")])]),e("h2",{attrs:{id:"与http协作的web服务器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#与http协作的web服务器","aria-hidden":"true"}},[t._v("#")]),t._v(" 与http协作的web服务器")]),e("h3",{attrs:{id:"通信数据转发程序："}},[e("a",{staticClass:"header-anchor",attrs:{href:"#通信数据转发程序：","aria-hidden":"true"}},[t._v("#")]),t._v(" 通信数据转发程序：")]),e("p",[t._v("代理")]),e("p",[t._v("转发客户端请求到服务器，或转发服务器响应到客户端。")]),e("p",[t._v("网关")]),e("p",[t._v("转发服务器通讯的服务器，可以处理请求，客户端不易察觉，可冒充服务器。可使用非http协议通讯。")]),e("p",[t._v("隧道")]),e("p",[t._v("与服务器建立一条通讯线路，确保安全通信。")]),e("h2",{attrs:{id:"http首部"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#http首部","aria-hidden":"true"}},[t._v("#")]),t._v(" http首部")]),e("p",[t._v("首部字段")]),e("p",[t._v("为了给浏览器和服务器提供报文主体大小，所使用的语言，认证信息等")]),e("p",[t._v("请求报文首部：方法，uri，http版本，请求首部字段，通用首部字段，实体首部字段")]),e("p",[t._v("响应报文首部：http版本，状态码，响应首部字段，通用首部字段，实体首部字段")]),e("h3",{attrs:{id:"通用首部字段"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#通用首部字段","aria-hidden":"true"}},[t._v("#")]),t._v(" 通用首部字段")]),e("p",[t._v("|CaChe-Control|控制缓存机制|\n|Connection|控制不再转发的首部字段，管理持久连接|\n|Date|创建http报文的时间|\n|Trailer|事先说明报文主体后包含的首部字段|\n|Transfer-Encoding|传输报文采用的编码方式|\n|Upgrade|检测http协议以及其他协议是否可使用更高的版本进行通信|\n|Via|追踪客户端和服务器之间的请求和响应报文的传输路径|\n|Warning|告知客户缓存相关的问题警告|")]),e("h3",{attrs:{id:"请求首部字段"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#请求首部字段","aria-hidden":"true"}},[t._v("#")]),t._v(" 请求首部字段")]),e("p",[t._v("|Accept|通知服务器，用户代理能够处理的媒体类型以及媒体类型的优先级|\n|Accept-Charset|通知服务器，用户代理支持的字符集以及字符集的优先级|\n|Accept-Encoding|通知服务器，用户代理支持的内容编码以及内容编码的优先级|\n|Accept-Language|通知服务器，用户代理能够处理的自然语言集，以及优先级|\n|Authorization|通知服务器，用户代理的认证信息|\n|Except|通知服务器，期望出现的某种特定行为，如服务器不理解，返回417|\n|From|通知服务器，用户代理的电子邮箱|\n|Host|通知服务器，请求资源的主机名和端口号，用于一台服务器多个web服务|\n|If-Match|如果Etag一致时服务器才接受请求|\n|If-Modified-Since|如果资源更新了，则希望能处理请求|\n|If-None-Match|如果Etag不一致时服务器才接受请求|\n|If-Range|范围请求|\n|If-Unmodified-Since|如果资源未更新，则希望处理请求|\n|Max-Forwards|没经过一层代理，字段值-1|\n|Proxy-Authorization|告知服务器认证信息|\n|Range|范围请求|\n|Referer|告知服务器请求的原始资源URI|\n|TE|告知服务器客户端能够处理响应的传输编码，以及优先级|\n|User-Agent|告知服务器客户端信息|")]),e("h3",{attrs:{id:"响应首部字段"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#响应首部字段","aria-hidden":"true"}},[t._v("#")]),t._v(" 响应首部字段")]),e("p",[t._v("|Accept-Ranges|告知客户端能否处理范围请求|\n|Age|告知客户端，源服务器在多久之前创建了响应|\n|ETag|告知客户端实体标识|\n|Location|将响应接收方引导至某个与请求URI位置不容的资源|\n|Proxy-Authenticate|把由代理服务器所要求的认证信息发送给客户端|\n|Retry-After|告知客户端多久以后再次发送请求|\n|Server|告知客户端服务器端信息|\n|Vary|对缓存进行控制|\n|WWW-Authenticate|用于http访问认证|")]),e("h3",{attrs:{id:"实体首部字段"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#实体首部字段","aria-hidden":"true"}},[t._v("#")]),t._v(" 实体首部字段")]),e("p",[t._v("|Allow|通知客户端能够支持的方法Get，Head等|\n|Content-Encoding|告知客户端，服务器对实体的主体部分采用的内容编码|\n|Content-Language|告知客户端，服务器对实体的主体部分使用的自然语言|\n|Content-Length|实体的主体部分的发小|\n|Content-Location|给出报文主体部分对应的URI|\n|Content-MD5|检查报文主体在传输过程中是否保持完整|\n|Content-Range|告知客户端返回的实体属于哪一部分|\n|Content-Type|实体主体的媒体类型|\n|Expires|告知客户端资源失效的日期|\n|Last——modified|资源最终的修改时间|")]),e("h2",{attrs:{id:"确保web安全的https"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#确保web安全的https","aria-hidden":"true"}},[t._v("#")]),t._v(" 确保web安全的https")]),e("p",[t._v("http缺点")]),e("ul",[e("li",[t._v("通信使用铭文，内容可能会被窃听")]),e("li",[t._v("不验证通信方的身份，因此有可能遭遇伪装")]),e("li",[t._v("无法证明报文的完整性，所以有可能已遭篡改")])]),e("p",[t._v("https")]),e("p",[t._v("http+加密+认证+完整性保护 = https")]),e("p",[t._v("对称加密，非对称加密\nhttps慢，通信慢（加密解密耗时，http通信部分变长）")]),e("h2",{attrs:{id:"确认访问用户身份认证"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#确认访问用户身份认证","aria-hidden":"true"}},[t._v("#")]),t._v(" 确认访问用户身份认证")]),e("p",[t._v("|Basic认证|http请求首部字段Authorization|容易被窃听|\n|Digest认证|认证时加上质询码，降低窃听危险|\n|SSL客户端认证|在客户端安装证书，以确保客户端身份|客户端必须安装证书，需要收费|\n|基于表单认证|Session+Cookie|")]),e("h2",{attrs:{id:"基于http的功能追加协议"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基于http的功能追加协议","aria-hidden":"true"}},[t._v("#")]),t._v(" 基于http的功能追加协议")]),e("h3",{attrs:{id:"http瓶颈"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#http瓶颈","aria-hidden":"true"}},[t._v("#")]),t._v(" http瓶颈")]),e("p",[t._v("一条连接上只可发送一个请求")]),e("p",[t._v("请求只能从客户端开始。客户端不可以接收除响应意外的指令")]),e("p",[t._v("请求/响应首部未经压缩就发送。首部信息越多延迟越大")]),e("p",[t._v("发送冗长的首部。每次互相发送相同的首部造成的浪费较多")]),e("p",[t._v("可任意选择数据压缩格式。非强制压缩发送")]),e("h3",{attrs:{id:"解决方案"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决方案","aria-hidden":"true"}},[t._v("#")]),t._v(" 解决方案")]),e("p",[t._v("ajax（局部更新）")]),e("p",[t._v("comet（长连接，耗费资源）")]),e("p",[t._v("SPDY\n在http层和SSL层之间，增加SPDY会话层，用以实现：")]),e("ul",[e("li",[t._v("多路复用（只适用于同一域名下）")]),e("li",[t._v("赋予请求优先级")]),e("li",[t._v("压缩http首部")]),e("li",[t._v("推送功能")]),e("li",[t._v("服务器提示功能")])]),e("p",[t._v("WebSocket\n不使用http协议，避免协议瓶颈。\n推送功能\n减少通信量，首部信息小")]),e("p",[t._v("Http2")]),e("ul",[e("li",[t._v("SPDY")]),e("li",[t._v("Http Speed + Mobility")]),e("li",[t._v("Network-Friendly Http Upgrade")])]),e("h2",{attrs:{id:"构建web内容的技术"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#构建web内容的技术","aria-hidden":"true"}},[t._v("#")]),t._v(" 构建web内容的技术")]),e("ul",[e("li",[t._v("XML")]),e("li",[t._v("JSON")])]),e("h2",{attrs:{id:"web的攻击技术"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#web的攻击技术","aria-hidden":"true"}},[t._v("#")]),t._v(" web的攻击技术")]),e("ul",[e("li",[t._v("XSS")]),e("li",[t._v("SQL注入攻击")]),e("li",[t._v("OS命令注入攻击（只要能调用shell函数的地方就存在被攻击的风险）")]),e("li",[t._v("HTTP首部注入攻击（增加空白行，篡改请求报文实体）")]),e("li",[t._v("目录遍历攻击（通过推测目录，获取本无权限获取的资源）")]),e("li",[t._v("远程文件包含漏洞（传递参数获取文件，可传递攻击者的文件）")]),e("li",[t._v("不正确的错误消息处理")]),e("li",[t._v("会话劫持（攻击者拿到用户会话id宠儿冒充用户）")]),e("li",[t._v("跨站点伪造请求CSRF（通过设置陷阱，强制对已认证用户进行非预期的个人信息操作）")])])])}],!1,null,null,null);a.default=i.exports}}]);