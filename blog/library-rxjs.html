<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>RxJS 基础知识总结 | yhlben的前端日志</title>
    <meta name="description" content="欢迎访问我的前端日志">
    
    
    <link rel="preload" href="/assets/css/0.styles.ac0f52a5.css" as="style"><link rel="preload" href="/assets/js/app.8b4e705b.js" as="script"><link rel="preload" href="/assets/js/36.f27cfa1c.js" as="script"><link rel="prefetch" href="/assets/js/10.57384317.js"><link rel="prefetch" href="/assets/js/11.1612ff65.js"><link rel="prefetch" href="/assets/js/12.caced08e.js"><link rel="prefetch" href="/assets/js/13.df381bb2.js"><link rel="prefetch" href="/assets/js/14.940a3884.js"><link rel="prefetch" href="/assets/js/15.1fb53ebd.js"><link rel="prefetch" href="/assets/js/16.e45ae64a.js"><link rel="prefetch" href="/assets/js/17.5e5cd073.js"><link rel="prefetch" href="/assets/js/18.e641de2f.js"><link rel="prefetch" href="/assets/js/19.01873d6c.js"><link rel="prefetch" href="/assets/js/2.fd823a6a.js"><link rel="prefetch" href="/assets/js/20.75cf8598.js"><link rel="prefetch" href="/assets/js/21.925b98c3.js"><link rel="prefetch" href="/assets/js/22.51561810.js"><link rel="prefetch" href="/assets/js/23.630d12d8.js"><link rel="prefetch" href="/assets/js/24.76623344.js"><link rel="prefetch" href="/assets/js/25.6740b8cc.js"><link rel="prefetch" href="/assets/js/26.199efb20.js"><link rel="prefetch" href="/assets/js/27.f5e8cade.js"><link rel="prefetch" href="/assets/js/28.fdc1d479.js"><link rel="prefetch" href="/assets/js/29.b3679914.js"><link rel="prefetch" href="/assets/js/3.b13d46fb.js"><link rel="prefetch" href="/assets/js/30.4c71305d.js"><link rel="prefetch" href="/assets/js/31.61fed641.js"><link rel="prefetch" href="/assets/js/32.0819e8dc.js"><link rel="prefetch" href="/assets/js/33.afe984af.js"><link rel="prefetch" href="/assets/js/34.0174dc56.js"><link rel="prefetch" href="/assets/js/35.87df4a7d.js"><link rel="prefetch" href="/assets/js/37.85328c9e.js"><link rel="prefetch" href="/assets/js/38.559e2e4c.js"><link rel="prefetch" href="/assets/js/39.0f8e685c.js"><link rel="prefetch" href="/assets/js/4.4fb1189c.js"><link rel="prefetch" href="/assets/js/40.242ccece.js"><link rel="prefetch" href="/assets/js/41.c87a4116.js"><link rel="prefetch" href="/assets/js/42.ba72e8a2.js"><link rel="prefetch" href="/assets/js/43.b413ce2c.js"><link rel="prefetch" href="/assets/js/44.8959d763.js"><link rel="prefetch" href="/assets/js/45.7a21406c.js"><link rel="prefetch" href="/assets/js/46.dfba6839.js"><link rel="prefetch" href="/assets/js/47.d16d8cb6.js"><link rel="prefetch" href="/assets/js/48.384130f7.js"><link rel="prefetch" href="/assets/js/49.49a11bdb.js"><link rel="prefetch" href="/assets/js/5.cde2ad52.js"><link rel="prefetch" href="/assets/js/50.4a1622c0.js"><link rel="prefetch" href="/assets/js/51.11be6f70.js"><link rel="prefetch" href="/assets/js/52.80398d45.js"><link rel="prefetch" href="/assets/js/53.bbb6bf2f.js"><link rel="prefetch" href="/assets/js/54.ef74cbd6.js"><link rel="prefetch" href="/assets/js/55.88e6c5d7.js"><link rel="prefetch" href="/assets/js/56.1013138e.js"><link rel="prefetch" href="/assets/js/57.81def25c.js"><link rel="prefetch" href="/assets/js/58.b47c76c3.js"><link rel="prefetch" href="/assets/js/59.12e0a804.js"><link rel="prefetch" href="/assets/js/6.f5f96290.js"><link rel="prefetch" href="/assets/js/60.32cd21fd.js"><link rel="prefetch" href="/assets/js/61.450a1053.js"><link rel="prefetch" href="/assets/js/62.589077a5.js"><link rel="prefetch" href="/assets/js/63.c3845533.js"><link rel="prefetch" href="/assets/js/64.d61e322c.js"><link rel="prefetch" href="/assets/js/65.ee2d9ac7.js"><link rel="prefetch" href="/assets/js/66.8ca9bbe6.js"><link rel="prefetch" href="/assets/js/67.9c3b7b78.js"><link rel="prefetch" href="/assets/js/68.f1414fe9.js"><link rel="prefetch" href="/assets/js/7.1d4c01d3.js"><link rel="prefetch" href="/assets/js/8.895dbdd2.js"><link rel="prefetch" href="/assets/js/9.c6c61459.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ac0f52a5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">yhlben的前端日志</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">博客</a></div><div class="nav-item"><a href="/interview/" class="nav-link">面试题</a></div><div class="nav-item"><a href="/tool/" class="nav-link">工具</a></div> <a href="https://github.com/yhlben/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">博客</a></div><div class="nav-item"><a href="/interview/" class="nav-link">面试题</a></div><div class="nav-item"><a href="/tool/" class="nav-link">工具</a></div> <a href="https://github.com/yhlben/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/blog/project-image.html" class="sidebar-link">怎样选择图片格式？</a></li><li><a href="/blog/osi-http2.html" class="sidebar-link">HTTP2 基础入门</a></li><li><a href="/blog/library-react-ssr.html" class="sidebar-link">React 服务器端渲染 Demo</a></li><li><a href="/blog/css-useful.html" class="sidebar-link">有用的 CSS 特性</a></li><li><a href="/blog/js-this.html" class="sidebar-link">从 ES 规范 中理解 this</a></li><li><a href="/blog/project-commitlint.html" class="sidebar-link">Commitlint 使用总结</a></li><li><a href="/blog/project-webpack-flow.html" class="sidebar-link">webpack 打包 modules 流程分析</a></li><li><a href="/blog/operation-web-login.html" class="sidebar-link">Web 登录鉴权</a></li><li><a href="/blog/library-react-hooks.html" class="sidebar-link">使用 React Hooks 节省 90% 的代码</a></li><li><a href="/blog/js-operator-priority.html" class="sidebar-link">JS 运算符优先级</a></li><li><a href="/blog/project-webpack.html" class="sidebar-link">Webpack 使用总结</a></li><li><a href="/blog/library-react.html" class="sidebar-link">React 使用总结</a></li><li><a href="/blog/library-vue.html" class="sidebar-link">Vue 使用总结</a></li><li><a href="/blog/css.html" class="sidebar-link">编写高质量 CSS</a></li><li><a href="/blog/library-miniProgram.html" class="sidebar-link">小程序使用总结</a></li><li><a href="/blog/js-jsBridge.html" class="sidebar-link">JsBridge 总结</a></li><li><a href="/blog/osi-https.html" class="sidebar-link">HTTPS 协议常用知识点总结</a></li><li><a href="/blog/osi-web-security.html" class="sidebar-link">WEB 安全</a></li><li><a href="/blog/osi-dns.html" class="sidebar-link">域名劫持 / 数据劫持</a></li><li><a href="/blog/project-test.html" class="sidebar-link">前端测试</a></li><li><a href="/blog/frontend.html" class="sidebar-link">我的前端知识清单</a></li><li><a href="/blog/css-devicePixelRatio.html" class="sidebar-link">设备像素比</a></li><li><a href="/blog/js-module.html" class="sidebar-link">ES6 module</a></li><li><a href="/blog/js-inherit-es6.html" class="sidebar-link">ES6 继承</a></li><li><a href="/blog/js-inherit.html" class="sidebar-link">ES5 继承</a></li><li><a href="/blog/js-form.html" class="sidebar-link">JS 表单</a></li><li><a href="/blog/js-html5-program.html" class="sidebar-link">JS 跨文档消息传递 PostMessage 和拖放 API</a></li><li><a href="/blog/js-regular-assert.html" class="sidebar-link">正则表达式之（先行断言，后行断言）</a></li><li><a href="/blog/js-recursion.html" class="sidebar-link">函数尾递归优化</a></li><li><a href="/blog/js-object-ergodic.html" class="sidebar-link">JS 对象属性的遍历</a></li><li><a href="/blog/js-design-pattern.html" class="sidebar-link">设计模式</a></li><li><a href="/blog/base-functional.html" class="sidebar-link">函数式编程</a></li><li><a href="/blog/library-redux.html" class="sidebar-link">Redux 使用总结</a></li><li><a href="/blog/library-rxjs.html" class="active sidebar-link">RxJS 基础知识总结</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/library-rxjs.html#observable" class="sidebar-link">Observable</a></li><li class="sidebar-sub-header"><a href="/blog/library-rxjs.html#observer" class="sidebar-link">Observer</a></li><li class="sidebar-sub-header"><a href="/blog/library-rxjs.html#subscription" class="sidebar-link">Subscription</a></li><li class="sidebar-sub-header"><a href="/blog/library-rxjs.html#operators" class="sidebar-link">Operators</a></li><li class="sidebar-sub-header"><a href="/blog/library-rxjs.html#subject" class="sidebar-link">Subject</a></li><li class="sidebar-sub-header"><a href="/blog/library-rxjs.html#schedulers" class="sidebar-link">Schedulers</a></li><li class="sidebar-sub-header"><a href="/blog/library-rxjs.html#小示例：" class="sidebar-link">小示例：</a></li></ul></li><li><a href="/blog/css-houdini-star.html" class="sidebar-link">CSS Houdini 画一片星空</a></li><li><a href="/blog/base-structure.html" class="sidebar-link">数据结构总结</a></li><li><a href="/blog/base-structure-base-select.html" class="sidebar-link">查找算法</a></li><li><a href="/blog/base-structure-base-sort.html" class="sidebar-link">基本排序算法</a></li><li><a href="/blog/base-structure-high-algorithm.html" class="sidebar-link">高级算法</a></li><li><a href="/blog/base-structure-senior-sort.html" class="sidebar-link">高级排序算法</a></li><li><a href="/blog/osi-http.html" class="sidebar-link">HTTP 协议常用知识点总结</a></li><li><a href="/blog/osi-http-graph.html" class="sidebar-link">图解 HTTP 总结</a></li><li><a href="/blog/project-node.html" class="sidebar-link">NodeJs 使用总结</a></li><li><a href="/blog/operation-performance.html" class="sidebar-link">前端性能优化</a></li><li><a href="/blog/operation-docker-micro-service.html" class="sidebar-link">Docker 微服务小 Demo</a></li><li><a href="/blog/operation-linux.html" class="sidebar-link">Linux 快捷键</a></li><li><a href="/blog/operation-linux-login.html" class="sidebar-link">Linux 免密登录配置</a></li><li><a href="/blog/operation-nginx-load-balancing.html" class="sidebar-link">最简单的 Nginx 负载均衡</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="rxjs-基础知识总结"><a href="#rxjs-基础知识总结" aria-hidden="true" class="header-anchor">#</a> RxJS 基础知识总结</h1> <p>对于 RxJS 一直都是比较感兴趣，但是却没有很深入地去研究，这一节先介绍一下基础知识，以后再深入学习。</p> <h2 id="observable"><a href="#observable" aria-hidden="true" class="header-anchor">#</a> Observable</h2> <p>Observable (可观察对象): 表示一个概念，这个概念是一个可调用的未来值或事件的集合。</p> <p>Observables 是使用 Rx.Observable.create 或创建操作符创建的，并使用观察者来订阅它，然后执行它并发送 next / error / complete 通知给观察者，而且执行可能会被清理。这四个方面全部编码在 Observables 实例中。</p> <p>Observable 的核心关注点：</p> <ul><li>创建 Observables</li> <li>订阅 Observables</li> <li>执行 Observables</li> <li>清理 Observables</li></ul> <h2 id="observer"><a href="#observer" aria-hidden="true" class="header-anchor">#</a> Observer</h2> <p>Observer (观察者): 一个回调函数的集合，它知道如何去监听由 Observable 提供的值。</p> <p>观察者是由 Observable 发送的值的消费者。观察者只是一组回调函数的集合，每个回调函数对应一种 Observable 发送的通知类型：next、error 和 complete 。</p> <h2 id="subscription"><a href="#subscription" aria-hidden="true" class="header-anchor">#</a> Subscription</h2> <p>Subscription (订阅): 表示 Observable 的执行，主要用于取消 Observable 的执行。</p> <p>Subscription 是表示可清理资源的对象，通常是 Observable 的执行。Subscription 有一个重要的方法，即 unsubscribe，它不需要任何参数，只是用来清理由 Subscription 占用的资源。</p> <h2 id="operators"><a href="#operators" aria-hidden="true" class="header-anchor">#</a> Operators</h2> <p>操作符是 Observable 类型上的方法，比如 .map(...)、.filter(...)、.merge(...)，等等。当操作符被调用时，它们不会改变已经存在的 Observable 实例。相反，它们返回一个新的 Observable ，它的 subscription 逻辑基于第一个 Observable 。</p> <blockquote><p>操作符是函数，它基于当前的 Observable 创建一个新的 Observable。这是一个无副作用的操作：前面的 Observable 保持不变。
操作符是采用函数式编程风格的纯函数 (pure function)，使用像 map、filter、concat、flatMap 等这样的操作符来处理集合。</p></blockquote> <h2 id="subject"><a href="#subject" aria-hidden="true" class="header-anchor">#</a> Subject</h2> <p>Subject (主体): 相当于 EventEmitter，并且是将值或事件多路推送给多个 Observer 的唯一方式。</p> <p>RxJS Subject 是一种特殊类型的 Observable，它允许将值多播给多个观察者，所以 Subject 是多播的，而普通的 Observables 是单播的(每个已订阅的观察者都拥有 Observable 的独立执行)。</p> <p>变种：</p> <p>BehaviorSubject：Subject 的其中一个变体就是 BehaviorSubject，它有一个“当前值”的概念。它保存了发送给消费者的最新值。并且当有新的观察者订阅时，会立即从 BehaviorSubject 那接收到“当前值”。</p> <p>ReplaySubject： 类似于 BehaviorSubject，它可以发送旧值给新的订阅者，但它还可以记录 Observable 执行的一部分。</p> <p>AsyncSubject： 只有当 Observable 执行完成时(执行 complete())，它才会将执行的最后一个值发送给观察者。</p> <h2 id="schedulers"><a href="#schedulers" aria-hidden="true" class="header-anchor">#</a> Schedulers</h2> <p>Schedulers (调度器): 用来控制并发并且是中央集权的调度员，允许我们在发生计算时进行协调，例如 setTimeout 或 requestAnimationFrame 或其他。</p> <p>调度器控制着何时启动 subscription 和何时发送通知。它由三部分组成：</p> <ul><li>调度器是一种数据结构。 它知道如何根据优先级或其他标准来存储任务和将任务进行排序。</li> <li>调度器是执行上下文。 它表示在何时何地执行任务(举例来说，立即的，或另一种回调函数机制(比如 setTimeout 或 process.nextTick)，或动画帧)。</li> <li>调度器有一个(虚拟的)时钟。 调度器功能通过它的 getter 方法 now() 提供了“时间”的概念。在具体调度器上安排的任务将严格遵循该时钟所表示的时间。</li> <li>调度器可以让你规定 Observable 在什么样的执行上下文中发送通知给它的观察者。</li></ul> <table><thead><tr><th>调度器</th> <th>目的</th></tr></thead> <tbody><tr><td>Rx.Scheduler.queue</td> <td>当前事件帧中的队列调度(蹦床调度器)。用于迭代操作。</td></tr> <tr><td>Rx.Scheduler.asap</td> <td>微任务的队列调度，它使用可用的最快速的传输机制，比如 Node.js 的 process.nextTick() 或 Web Worker 的 MessageChannel 或 setTimeout 或其他。用于异步转换。</td></tr> <tr><td>Rx.Scheduler.async</td> <td>使用 setInterval 的调度。用于基于时间的操作符。</td></tr></tbody></table> <h2 id="小示例："><a href="#小示例：" aria-hidden="true" class="header-anchor">#</a> 小示例：</h2> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//第一步，创建一个可观察对象（也可以通过fromEvent...）</span>
<span class="token keyword">var</span> observable <span class="token operator">=</span> Rx<span class="token punctuation">.</span>Observable<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>observer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  observer<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token string">&quot;first&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    observer<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token string">&quot;5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;错误&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    observer<span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span><span class="token string">&quot;6&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">6000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>e <span class="token operator">=&gt;</span> e<span class="token punctuation">.</span><span class="token function">bold</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 使用操作符过滤观察流</span>
  <span class="token punctuation">.</span><span class="token function">observeOn</span><span class="token punctuation">(</span>Rx<span class="token punctuation">.</span>Scheduler<span class="token punctuation">.</span><span class="token keyword">async</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//让流变为异步</span>

<span class="token keyword">var</span> subject <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rx<span class="token punctuation">.</span>Subject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//增加两个监听函数</span>
<span class="token keyword">var</span> <span class="token function-variable function">observer1</span> <span class="token operator">=</span> e <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token function-variable function">observer2</span> <span class="token operator">=</span> e <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;监听2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//未使用subject传播</span>
<span class="token comment">// var subscription1 = observable.subscribe(observer1);</span>
<span class="token comment">// var subscription2 = observable.subscribe(observer2);</span>

<span class="token comment">//使用subject多播给多个观察者</span>
<span class="token keyword">var</span> subscription1 <span class="token operator">=</span> subject<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>observer1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> subscription2 <span class="token operator">=</span> subject<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>observer2<span class="token punctuation">)</span><span class="token punctuation">;</span>
observable<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>subject<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;waibu&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//增加取消监听</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  subscription1<span class="token punctuation">.</span><span class="token function">unsubscribe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  subscription2<span class="token punctuation">.</span><span class="token function">unsubscribe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/yhlben/blog/edit/master/docs/blog/library-rxjs.md" target="_blank" rel="noopener noreferrer">帮助我完善这篇内容🙏</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">更新时间: </span> <span class="time">12/18/2018, 12:56:23 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/blog/library-redux.html" class="prev">
          Redux 使用总结
        </a></span> <span class="next"><a href="/blog/css-houdini-star.html">
          CSS Houdini 画一片星空
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.8b4e705b.js" defer></script><script src="/assets/js/36.f27cfa1c.js" defer></script>
  </body>
</html>
